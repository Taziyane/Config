{
  "dns" : {
    "hosts" : {
      "geosite:category-ads-all" : [
        "127.0.0.1"
      ],
      "geosite:category-ads-ir" : [
        "127.0.0.1"
      ]
    },
    "queryStrategy" : "UseIP",
    "servers" : [
      "1.1.1.1",
      "1.0.0.1",
      "2606:4700:4700::1111",
      "2606:4700:4700::1001",
      {
        "address" : "8.8.8.8",
        "domains" : [
          "full:engage.cloudflareclient.com"
        ],
        "skipFallback" : true
      },
      {
        "address" : "8.8.8.8",
        "domains" : [
          "geosite:category-ir"
        ],
        "expectIPs" : [
          "geoip:ir"
        ],
        "skipFallback" : true
      }
    ],
    "tag" : "dns"
  },
  "fakedns" : [
    {
      "ipPool" : "198.20.0.0\/15",
      "poolSize" : 512
    },
    {
      "ipPool" : "fc00::\/64",
      "poolSize" : 512
    }
  ],
  "inbounds" : [
    {
      "listen" : "127.0.0.1",
      "port" : 1080,
      "protocol" : "socks",
      "settings" : {
        "auth" : "noauth",
        "udp" : true
      },
      "sniffing" : {
        "destOverride" : [
          "http",
          "tls",
          "quic",
          "fakedns"
        ],
        "enabled" : true,
        "routeOnly" : true
      },
      "tag" : "socks"
    }
  ],
  "log" : {
    "loglevel" : "warning"
  },
  "outbounds" : [
    {
      "protocol" : "wireguard",
      "settings" : {
        "address" : [
          "172.16.0.2\/32",
          "2606:4700:110:8bde:2fdf:6e5c:edbc:a1ee\/128"
        ],
        "mtu" : 1280,
        "peers" : [
          {
            "endpoint" : "engage.cloudflareclient.com:2408",
            "keepAlive" : 5,
            "publicKey" : "bmXOC+F1FxEMF9dyiK2H5\/1SUtzH0JuVo51h2wPfgyo="
          }
        ],
        "reserved" : [
          249,
          240,
          91
        ],
        "secretKey" : "qDaxrc4mHzGvXYelVbQ+SlY0FjtBovDMX8DXSHkE2kc="
      },
      "streamSettings" : {
        "sockopt" : {
          "dialerProxy" : "proxy",
          "domainStrategy" : "UseIPv4v6"
        }
      },
      "tag" : "chain"
    },
    {
      "protocol" : "wireguard",
      "settings" : {
        "address" : [
          "172.16.0.2\/32",
          "2606:4700:110:8dce:57a7:8142:61b1:aa4e\/128"
        ],
        "mtu" : 1280,
        "peers" : [
          {
            "endpoint" : "engage.cloudflareclient.com:2408",
            "keepAlive" : 5,
            "publicKey" : "bmXOC+F1FxEMF9dyiK2H5\/1SUtzH0JuVo51h2wPfgyo="
          }
        ],
        "reserved" : [
          181,
          110,
          56
        ],
        "secretKey" : "qCKViqUQIZxUl1VCss+LdC+AGhJn50cvW5iLLIvRyk0="
      },
      "tag" : "proxy"
    },
    {
      "protocol" : "dns",
      "tag" : "dns-out"
    },
    {
      "protocol" : "freedom",
      "settings" : {

      },
      "tag" : "direct"
    },
    {
      "protocol" : "blackhole",
      "settings" : {
        "response" : {
          "type" : "http"
        }
      },
      "tag" : "block"
    }
  ],
  "policy" : {

  },
  "remarks" : â€œAMIR",
  "routing" : {
    "domainStrategy" : "IPIfNonMatch",
    "rules" : [
      {
        "inboundTag" : [
          "dns-in"
        ],
        "outboundTag" : "dns-out",
        "type" : "field"
      },
      {
        "inboundTag" : [
          "socks-in",
          "http-in"
        ],
        "outboundTag" : "dns-out",
        "port" : "53",
        "type" : "field"
      },
      {
        "ip" : [
          "8.8.8.8"
        ],
        "network" : "udp",
        "outboundTag" : "direct",
        "port" : "53",
        "type" : "field"
      },
      {
        "domain" : [
          "geosite:private",
          "geosite:category-ir"
        ],
        "outboundTag" : "direct",
        "type" : "field"
      },
      {
        "ip" : [
          "geoip:private",
          "geoip:ir"
        ],
        "outboundTag" : "direct",
        "type" : "field"
      },
      {
        "domain" : [
          "geosite:category-ads-all",
          "geosite:category-ads-ir"
        ],
        "outboundTag" : "block",
        "type" : "field"
      },
      {
        "network" : "udp",
        "outboundTag" : "block",
        "port" : "443",
        "type" : "field"
      },
      {
        "network" : "udp",
        "outboundTag" : "proxy",
        "port" : "53",
        "type" : "field"
      },
      {
        "network" : "tcp,udp",
        "outboundTag" : "chain",
        "type" : "field"
      }
    ]
  }
}
